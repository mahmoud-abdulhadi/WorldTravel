!function(){"use strict";angular.module("app-trips").controller("tripsController",function(e){var i=this;i.trips=[],i.newTrip={},i.errorMessage="",i.isBusy=!0,e.get("/api/trips").then(function(e){angular.copy(e.data,i.trips)},function(e){i.errorMessage="Failed To Load "+e}).finally(function(){i.isBusy=!1}),i.addTrip=function(){i.isBusy=!0,i.errorMessage="",e.post("/api/trips",i.newTrip).then(function(e){i.trips.push(e.data),i.newTrip={}},function(){i.errorMessage="Failed to save the New trip"}).finally(function(){i.isBusy=!1})},i.deleteTrip=function(n){confirm("Are you sure want to remove "+n.name+"?")&&(i.isBusy=!0,i.errorMessage="",e.get("/api/trips/delete/"+encodeURI(n.name)).then(function(){e.get("/api/trips").then(function(e){angular.copy(e.data,i.trips)},function(e){i.errorMessage="Failed To Load "+e}).finally(function(){i.isBusy=!1})},function(){i.errorMessage="Failed to delete the trip"}).finally(function(){i.isBusy=!1}))}})}();